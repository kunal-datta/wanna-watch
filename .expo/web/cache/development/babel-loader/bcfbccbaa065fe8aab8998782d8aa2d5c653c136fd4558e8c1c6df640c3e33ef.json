{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar _jsxFileName = \"/Users/Kunal_Datta/Desktop/Kunal Datta/Projects/Fun apps/wanna-watch/App.tsx\",\n  _this = this;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { initializeApp } from 'firebase/app';\nimport { getFirestore, collection, addDoc, doc, updateDoc, onSnapshot, getDoc, arrayUnion } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyBRlM880MkHeieMRiRlCWJedufAQTVkp1A\",\n  authDomain: \"what-should-we-watch-de872.firebaseapp.com\",\n  projectId: \"what-should-we-watch-de872\",\n  storageBucket: \"what-should-we-watch-de872.firebasestorage.app\",\n  messagingSenderId: \"108831813890\",\n  appId: \"1:108831813890:web:352c4c88ed3f3e8121521b\"\n};\nvar app = initializeApp(firebaseConfig);\nvar db = getFirestore(app);\nvar TMDB_API_KEY = 'da0ecdd247617155169cc70ef1d05bda';\nvar TMDB_BASE_URL = 'https://api.themoviedb.org/3';\nvar TMDB_IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w500';\nvar REGION = 'US';\nvar fetchProviders = function () {\n  var _ref = _asyncToGenerator(function* (movieId) {\n    try {\n      var response = yield fetch(`${TMDB_BASE_URL}/movie/${movieId}/watch/providers?api_key=${TMDB_API_KEY}`);\n      var data = yield response.json();\n      return data.results[REGION] || null;\n    } catch (error) {\n      console.error('Error fetching providers:', error);\n      return null;\n    }\n  });\n  return function fetchProviders(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar ProvidersSection = function ProvidersSection(_ref2) {\n  var _providers$type;\n  var providers = _ref2.providers,\n    type = _ref2.type;\n  if (!(providers != null && (_providers$type = providers[type]) != null && _providers$type.length)) return null;\n  return _jsxDEV(View, {\n    style: styles.providersSection,\n    children: [_jsxDEV(Text, {\n      style: styles.providerTitle,\n      children: type === 'flatrate' ? 'Stream on:' : type === 'rent' ? 'Rent on:' : 'Buy on:'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, _this), _jsxDEV(View, {\n      style: styles.providersList,\n      children: providers[type].map(function (provider) {\n        return _jsxDEV(View, {\n          style: styles.providerItem,\n          children: [_jsxDEV(Image, {\n            source: {\n              uri: `${TMDB_IMAGE_BASE_URL}${provider.logo_path}`\n            },\n            style: styles.providerLogo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, _this), _jsxDEV(Text, {\n            style: styles.providerName,\n            children: provider.provider_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, _this)]\n        }, provider.provider_name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, _this);\n};\nfunction App() {\n  var _this2 = this;\n  var _useState = useState({\n      sessionId: null,\n      userId: null,\n      currentMovie: null,\n      likedMoviesCount: 0,\n      ourList: [],\n      movieQueue: [],\n      page: 1\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  useEffect(function () {\n    if (!state.sessionId) return;\n    var sessionRef = doc(db, 'sessions', state.sessionId);\n    var unsubscribe = onSnapshot(sessionRef, function (doc) {\n      if (doc.exists()) {\n        var sessionData = doc.data();\n        if (sessionData.ourList) {\n          setState(function (prev) {\n            return _objectSpread(_objectSpread({}, prev), {}, {\n              ourList: sessionData.ourList\n            });\n          });\n        }\n      }\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, [state.sessionId]);\n  var createSession = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        var sessionsRef = collection(db, 'sessions');\n        var docRef = yield addDoc(sessionsRef, {\n          createdAt: new Date(),\n          users: [state.userId],\n          likes: {},\n          ourList: []\n        });\n        console.log(\"Session created with ID: \", docRef.id);\n        return docRef;\n      } catch (error) {\n        console.error(\"Error creating session: \", error);\n        throw error;\n      }\n    });\n    return function createSession() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var joinSession = function () {\n    var _ref4 = _asyncToGenerator(function* (code) {\n      try {\n        var sessionRef = doc(db, 'sessions', code);\n        var sessionDoc = yield getDoc(sessionRef);\n        if (!sessionDoc.exists()) {\n          throw new Error('Session not found');\n        }\n        yield updateDoc(sessionRef, {\n          users: arrayUnion(state.userId)\n        });\n        setState(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            sessionId: code\n          });\n        });\n      } catch (error) {\n        console.error('Error joining session:', error);\n        alert('Failed to join session. Please check the code and try again.');\n      }\n    });\n    return function joinSession(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    setState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        userId: Math.random().toString(36).substring(7)\n      });\n    });\n  }, []);\n  var handleCreateSession = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      try {\n        var session = yield createSession();\n        console.log('Created session:', session.id);\n        setState(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            sessionId: session.id\n          });\n        });\n      } catch (error) {\n        console.error('Failed to create session:', error);\n      }\n    });\n    return function handleCreateSession() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var fetchMovieBatch = function () {\n    var _ref6 = _asyncToGenerator(function* () {\n      try {\n        console.log('Fetching movie batch...');\n        var response = yield fetch(`${TMDB_BASE_URL}/movie/popular?api_key=${TMDB_API_KEY}&language=en-US&page=${state.page}`);\n        var data = yield response.json();\n        console.log('Received movies:', data.results.length);\n        setState(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            movieQueue: [].concat(_toConsumableArray(prev.movieQueue), _toConsumableArray(data.results)),\n            page: prev.page + 1\n          });\n        });\n        return data.results;\n      } catch (error) {\n        console.error('Error fetching movies:', error);\n        return [];\n      }\n    });\n    return function fetchMovieBatch() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var fetchNextMovie = function () {\n    var _ref7 = _asyncToGenerator(function* () {\n      try {\n        console.log('Fetching next movie...');\n        console.log('Current queue length:', state.movieQueue.length);\n        if (state.movieQueue.length < 5) {\n          console.log('Queue is low, fetching batch...');\n          yield fetchMovieBatch();\n        }\n        var nextMovie = state.movieQueue[0];\n        var remainingQueue = state.movieQueue.slice(1);\n        console.log('Next movie:', nextMovie);\n        if (nextMovie) {\n          var providers = yield fetchProviders(nextMovie.id);\n          var movieWithProviders = _objectSpread(_objectSpread({}, nextMovie), {}, {\n            providers: providers\n          });\n          setState(function (prev) {\n            return _objectSpread(_objectSpread({}, prev), {}, {\n              currentMovie: movieWithProviders,\n              movieQueue: remainingQueue\n            });\n          });\n          console.log('State updated with new movie');\n        }\n      } catch (error) {\n        console.error('Error getting next movie:', error);\n      }\n    });\n    return function fetchNextMovie() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var handleLike = function () {\n    var _ref8 = _asyncToGenerator(function* () {\n      if (!state.currentMovie || !state.sessionId) return;\n      try {\n        var _Object$entries$find;\n        var sessionRef = doc(db, 'sessions', state.sessionId);\n        var movieId = state.currentMovie.id;\n        yield updateDoc(sessionRef, _defineProperty({}, `likes.${state.userId}.${movieId}`, true));\n        var sessionDoc = yield getDoc(sessionRef);\n        var sessionData = sessionDoc.data();\n        var otherUserLikes = ((_Object$entries$find = Object.entries((sessionData == null ? void 0 : sessionData.likes) || {}).find(function (_ref9) {\n          var _ref10 = _slicedToArray(_ref9, 1),\n            uid = _ref10[0];\n          return uid !== state.userId;\n        })) == null ? void 0 : _Object$entries$find[1]) || {};\n        if (otherUserLikes[movieId]) {\n          var updatedOurList = [].concat(_toConsumableArray(sessionData.ourList || []), [state.currentMovie]);\n          yield updateDoc(sessionRef, {\n            ourList: updatedOurList\n          });\n        }\n        setState(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            likedMoviesCount: prev.likedMoviesCount + 1\n          });\n        });\n        yield fetchNextMovie();\n      } catch (error) {\n        console.error('Error liking movie:', error);\n      }\n    });\n    return function handleLike() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n  var handleDislike = function () {\n    var _ref11 = _asyncToGenerator(function* () {\n      if (!state.currentMovie) return;\n      yield fetchNextMovie();\n    });\n    return function handleDislike() {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n  console.log('Current state:', state);\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: !state.sessionId ? _jsxDEV(View, {\n      style: styles.welcomeContainer,\n      children: [_jsxDEV(Text, {\n        style: styles.title,\n        children: \"What Should We Watch?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this), _jsxDEV(Button, {\n        title: \"Create Session\",\n        onPress: handleCreateSession\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }, this), _jsxDEV(Button, {\n        title: \"Join Session\",\n        onPress: function onPress() {\n          var code = prompt('Enter session code:');\n          if (code) joinSession(code);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 9\n    }, this) : !state.currentMovie ? _jsxDEV(View, {\n      style: styles.mainContainer,\n      children: [_jsxDEV(Text, {\n        style: styles.sessionInfo,\n        children: [\"Session: \", state.sessionId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this), _jsxDEV(Text, {\n        style: styles.sessionInfo,\n        children: [\"User ID: \", state.userId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this), _jsxDEV(Button, {\n        title: \"Copy Session ID\",\n        onPress: function onPress() {\n          navigator.clipboard.writeText(state.sessionId);\n          alert('Session ID copied to clipboard!');\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }, this), _jsxDEV(Button, {\n        title: \"Start Matching\",\n        onPress: fetchNextMovie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 9\n    }, this) : _jsxDEV(View, {\n      style: styles.matchingContainer,\n      children: [_jsxDEV(Text, {\n        style: styles.stats,\n        children: [\"Liked: \", state.likedMoviesCount, \" | Our List: \", state.ourList.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this), state.ourList.length > 0 && _jsxDEV(View, {\n        style: styles.ourListContainer,\n        children: [_jsxDEV(Text, {\n          style: styles.ourListTitle,\n          children: \"Our List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 15\n        }, this), state.ourList.map(function (movie) {\n          return _jsxDEV(View, {\n            style: styles.ourListItem,\n            children: [_jsxDEV(Image, {\n              source: {\n                uri: `${TMDB_IMAGE_BASE_URL}${movie.poster_path}`\n              },\n              style: styles.ourListPoster\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, _this2), _jsxDEV(Text, {\n              style: styles.ourListMovieTitle,\n              children: movie.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, _this2)]\n          }, movie.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }, _this2);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 13\n      }, this), _jsxDEV(View, {\n        style: styles.movieCard,\n        children: [_jsxDEV(Text, {\n          style: styles.movieTitle,\n          children: state.currentMovie.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this), state.currentMovie.poster_path && _jsxDEV(Image, {\n          source: {\n            uri: `${TMDB_IMAGE_BASE_URL}${state.currentMovie.poster_path}`\n          },\n          style: styles.moviePoster\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 15\n        }, this), _jsxDEV(Text, {\n          style: styles.movieYear,\n          children: new Date(state.currentMovie.release_date).getFullYear()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this), _jsxDEV(Text, {\n          style: styles.movieRating,\n          children: [\"Rating: \", state.currentMovie.vote_average, \"/10\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this), _jsxDEV(Text, {\n          style: styles.movieDescription,\n          children: state.currentMovie.overview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this), _jsxDEV(View, {\n          style: styles.providersContainer,\n          children: state.currentMovie.providers && _jsxDEV(_Fragment, {\n            children: [_jsxDEV(ProvidersSection, {\n              providers: state.currentMovie.providers,\n              type: \"flatrate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 19\n            }, this), _jsxDEV(ProvidersSection, {\n              providers: state.currentMovie.providers,\n              type: \"rent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 19\n            }, this), _jsxDEV(ProvidersSection, {\n              providers: state.currentMovie.providers,\n              type: \"buy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 11\n      }, this), _jsxDEV(View, {\n        style: styles.buttonContainer,\n        children: [_jsxDEV(Button, {\n          title: \"\\uD83D\\uDC4E Nope\",\n          onPress: handleDislike\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this), _jsxDEV(Button, {\n          title: \"\\uD83D\\uDC4D Like\",\n          onPress: handleLike\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 5\n  }, this);\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20\n  },\n  welcomeContainer: {\n    alignItems: 'center',\n    gap: 20\n  },\n  mainContainer: {\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20\n  },\n  sessionInfo: {\n    fontSize: 16,\n    marginBottom: 10\n  },\n  matchingContainer: {\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    padding: 20\n  },\n  stats: {\n    fontSize: 16,\n    marginBottom: 20\n  },\n  movieCard: {\n    width: '100%',\n    maxWidth: 400,\n    padding: 20,\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    marginBottom: 20\n  },\n  movieTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10\n  },\n  movieDescription: {\n    fontSize: 16,\n    lineHeight: 24\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    width: '100%',\n    maxWidth: 300,\n    marginTop: 20\n  },\n  moviePoster: {\n    width: '100%',\n    height: 500,\n    resizeMode: 'cover',\n    borderRadius: 10,\n    marginBottom: 10\n  },\n  movieYear: {\n    fontSize: 16,\n    color: '#666',\n    marginBottom: 5\n  },\n  movieRating: {\n    fontSize: 16,\n    color: '#666',\n    marginBottom: 10\n  },\n  providersContainer: {\n    marginTop: 15,\n    borderTopWidth: 1,\n    borderTopColor: '#eee',\n    paddingTop: 15\n  },\n  providersSection: {\n    marginBottom: 15\n  },\n  providerTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: '#333'\n  },\n  providersList: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 10\n  },\n  providerItem: {\n    alignItems: 'center',\n    width: 70\n  },\n  providerLogo: {\n    width: 40,\n    height: 40,\n    borderRadius: 8,\n    marginBottom: 4\n  },\n  providerName: {\n    fontSize: 12,\n    textAlign: 'center',\n    color: '#666'\n  },\n  ourListContainer: {\n    marginTop: 20,\n    width: '100%',\n    maxWidth: 400\n  },\n  ourListTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10\n  },\n  ourListItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: '#f5f5f5',\n    borderRadius: 8\n  },\n  ourListPoster: {\n    width: 50,\n    height: 75,\n    borderRadius: 4,\n    marginRight: 10\n  },\n  ourListMovieTitle: {\n    fontSize: 16,\n    flex: 1\n  }\n});\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","View","Text","Button","StyleSheet","Image","initializeApp","getFirestore","collection","addDoc","doc","updateDoc","onSnapshot","getDoc","arrayUnion","jsxDEV","_jsxDEV","Fragment","_Fragment","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","db","TMDB_API_KEY","TMDB_BASE_URL","TMDB_IMAGE_BASE_URL","REGION","fetchProviders","_ref","_asyncToGenerator","movieId","response","fetch","data","json","results","error","console","_x","apply","arguments","ProvidersSection","_ref2","_providers$type","providers","type","length","style","styles","providersSection","children","providerTitle","fileName","_jsxFileName","lineNumber","columnNumber","_this","providersList","map","provider","providerItem","source","uri","logo_path","providerLogo","providerName","provider_name","App","_this2","_useState","sessionId","userId","currentMovie","likedMoviesCount","ourList","movieQueue","page","_useState2","_slicedToArray","state","setState","sessionRef","unsubscribe","exists","sessionData","prev","_objectSpread","createSession","_ref3","sessionsRef","docRef","createdAt","Date","users","likes","log","id","joinSession","_ref4","code","sessionDoc","Error","alert","_x2","Math","random","toString","substring","handleCreateSession","_ref5","session","fetchMovieBatch","_ref6","concat","_toConsumableArray","fetchNextMovie","_ref7","nextMovie","remainingQueue","slice","movieWithProviders","handleLike","_ref8","_Object$entries$find","_defineProperty","otherUserLikes","Object","entries","find","_ref9","_ref10","uid","updatedOurList","handleDislike","_ref11","container","welcomeContainer","title","onPress","prompt","mainContainer","sessionInfo","navigator","clipboard","writeText","matchingContainer","stats","ourListContainer","ourListTitle","movie","ourListItem","poster_path","ourListPoster","ourListMovieTitle","movieCard","movieTitle","moviePoster","movieYear","release_date","getFullYear","movieRating","vote_average","movieDescription","overview","providersContainer","buttonContainer","create","flex","backgroundColor","alignItems","justifyContent","padding","gap","width","fontSize","fontWeight","marginBottom","maxWidth","borderRadius","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","elevation","lineHeight","flexDirection","marginTop","resizeMode","color","borderTopWidth","borderTopColor","paddingTop","flexWrap","textAlign","marginRight"],"sources":["/Users/Kunal_Datta/Desktop/Kunal Datta/Projects/Fun apps/wanna-watch/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, Button, StyleSheet, Image } from 'react-native';\nimport { initializeApp } from 'firebase/app';\nimport { getFirestore, collection, addDoc, doc, updateDoc, onSnapshot, getDoc, setDoc, arrayUnion } from 'firebase/firestore';\n\n// Initialize Firebase (do this at the top level of your app)\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBRlM880MkHeieMRiRlCWJedufAQTVkp1A\",\n    authDomain: \"what-should-we-watch-de872.firebaseapp.com\",\n    projectId: \"what-should-we-watch-de872\",\n    storageBucket: \"what-should-we-watch-de872.firebasestorage.app\",\n    messagingSenderId: \"108831813890\",\n    appId: \"1:108831813890:web:352c4c88ed3f3e8121521b\"\n};\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\n\n// Add these constants at the top of your file\nconst TMDB_API_KEY = 'da0ecdd247617155169cc70ef1d05bda';\nconst TMDB_BASE_URL = 'https://api.themoviedb.org/3';\nconst TMDB_IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w500';\nconst REGION = 'US'; // Change this for different countries\n\n// Add this interface for TypeScript\ninterface Movie {\n  id: number;\n  title: string;\n  overview: string;\n  poster_path: string;\n  release_date: string;\n  vote_average: number;\n  providers?: {\n    flatrate?: Array<{ provider_name: string; logo_path: string }>;\n    rent?: Array<{ provider_name: string; logo_path: string }>;\n    buy?: Array<{ provider_name: string; logo_path: string }>;\n  };\n}\n\n// Add this function to fetch providers\nconst fetchProviders = async (movieId: number) => {\n  try {\n    const response = await fetch(\n      `${TMDB_BASE_URL}/movie/${movieId}/watch/providers?api_key=${TMDB_API_KEY}`\n    );\n    const data = await response.json();\n    return data.results[REGION] || null;\n  } catch (error) {\n    console.error('Error fetching providers:', error);\n    return null;\n  }\n};\n\n// Move this BEFORE your App function\nconst ProvidersSection = ({ providers, type }: { \n  providers: any, \n  type: 'flatrate' | 'rent' | 'buy' \n}) => {\n  if (!providers?.[type]?.length) return null;\n  \n  return (\n    <View style={styles.providersSection}>\n      <Text style={styles.providerTitle}>\n        {type === 'flatrate' ? 'Stream on:' : \n         type === 'rent' ? 'Rent on:' : 'Buy on:'}\n      </Text>\n      <View style={styles.providersList}>\n        {providers[type].map((provider: any) => (\n          <View key={provider.provider_name} style={styles.providerItem}>\n            <Image\n              source={{ uri: `${TMDB_IMAGE_BASE_URL}${provider.logo_path}` }}\n              style={styles.providerLogo}\n            />\n            <Text style={styles.providerName}>{provider.provider_name}</Text>\n          </View>\n        ))}\n      </View>\n    </View>\n  );\n};\n\n// Update the state interface (add this before App function)\ninterface AppState {\n  sessionId: string | null;\n  userId: string | null;\n  currentMovie: Movie | null;\n  likedMoviesCount: number;\n  ourList: Movie[];\n  movieQueue: Movie[];\n  page: number;\n}\n\nfunction App() {\n  const [state, setState] = useState<AppState>({\n    sessionId: null,\n    userId: null,\n    currentMovie: null,\n    likedMoviesCount: 0,\n    ourList: [],\n    movieQueue: [],\n    page: 1,\n  });\n\n  // Add this useEffect to listen for matches\n  useEffect(() => {\n    if (!state.sessionId) return;\n\n    const sessionRef = doc(db, 'sessions', state.sessionId);\n    const unsubscribe = onSnapshot(sessionRef, (doc) => {\n      if (doc.exists()) {\n        const sessionData = doc.data();\n        if (sessionData.ourList) {\n          setState(prev => ({\n            ...prev,\n            ourList: sessionData.ourList\n          }));\n        }\n      }\n    });\n\n    return () => unsubscribe();\n  }, [state.sessionId]);\n\n  const createSession = async () => {\n    try {\n      const sessionsRef = collection(db, 'sessions');\n      const docRef = await addDoc(sessionsRef, {\n        createdAt: new Date(),\n        users: [state.userId],\n        likes: {},\n        ourList: []\n      });\n      \n      console.log(\"Session created with ID: \", docRef.id);\n      return docRef;\n    } catch (error) {\n      console.error(\"Error creating session: \", error);\n      throw error;\n    }\n  };\n\n  const joinSession = async (code: string) => {\n    try {\n      const sessionRef = doc(db, 'sessions', code);\n      \n      // First check if session exists\n      const sessionDoc = await getDoc(sessionRef);\n      if (!sessionDoc.exists()) {\n        throw new Error('Session not found');\n      }\n\n      // Update the session with the new user\n      await updateDoc(sessionRef, {\n        users: arrayUnion(state.userId)\n      });\n\n      setState(prev => ({\n        ...prev,\n        sessionId: code\n      }));\n    } catch (error) {\n      console.error('Error joining session:', error);\n      alert('Failed to join session. Please check the code and try again.');\n    }\n  };\n\n  useEffect(() => {\n    // Generate a random user ID on mount\n    setState(prev => ({\n      ...prev,\n      userId: Math.random().toString(36).substring(7)\n    }));\n  }, []);\n\n  const handleCreateSession = async () => {\n    try {\n      const session = await createSession();\n      console.log('Created session:', session.id);\n      \n      setState(prev => ({\n        ...prev,\n        sessionId: session.id\n      }));\n    } catch (error) {\n      console.error('Failed to create session:', error);\n    }\n  };\n\n  // Add this function to fetch a batch of movies\n  const fetchMovieBatch = async () => {\n    try {\n      console.log('Fetching movie batch...'); // Debug log\n      const response = await fetch(\n        `${TMDB_BASE_URL}/movie/popular?api_key=${TMDB_API_KEY}&language=en-US&page=${state.page}`\n      );\n      const data = await response.json();\n      console.log('Received movies:', data.results.length); // Debug log\n      \n      setState(prev => ({\n        ...prev,\n        movieQueue: [...prev.movieQueue, ...data.results],\n        page: prev.page + 1\n      }));\n      \n      return data.results;\n    } catch (error) {\n      console.error('Error fetching movies:', error);\n      return [];\n    }\n  };\n\n  // Update your fetchNextMovie function\n  const fetchNextMovie = async () => {\n    try {\n      console.log('Fetching next movie...'); // Debug log\n      console.log('Current queue length:', state.movieQueue.length); // Debug log\n      \n      // If queue is running low, fetch more movies\n      if (state.movieQueue.length < 5) {\n        console.log('Queue is low, fetching batch...'); // Debug log\n        await fetchMovieBatch();\n      }\n      \n      // Get next movie from queue\n      const nextMovie = state.movieQueue[0];\n      const remainingQueue = state.movieQueue.slice(1);\n      \n      console.log('Next movie:', nextMovie); // Debug log\n      \n      if (nextMovie) {\n        // Fetch providers for the movie\n        const providers = await fetchProviders(nextMovie.id);\n        const movieWithProviders = {\n          ...nextMovie,\n          providers\n        };\n        \n        setState(prev => ({\n          ...prev,\n          currentMovie: movieWithProviders,\n          movieQueue: remainingQueue\n        }));\n        console.log('State updated with new movie'); // Debug log\n      }\n    } catch (error) {\n      console.error('Error getting next movie:', error);\n    }\n  };\n\n  // Update handleLike function\n  const handleLike = async () => {\n    if (!state.currentMovie || !state.sessionId) return;\n    \n    try {\n      const sessionRef = doc(db, 'sessions', state.sessionId);\n      const movieId = state.currentMovie.id;\n      \n      // Add the like to user's likes in Firebase\n      await updateDoc(sessionRef, {\n        [`likes.${state.userId}.${movieId}`]: true\n      });\n\n      // Check if both users liked this movie\n      const sessionDoc = await getDoc(sessionRef);\n      const sessionData = sessionDoc.data();\n      const otherUserLikes = Object.entries(sessionData?.likes || {})\n        .find(([uid]) => uid !== state.userId)?.[1] || {};\n\n      if (otherUserLikes[movieId]) {\n        // It's a match! Add to ourList\n        const updatedOurList = [...(sessionData.ourList || []), state.currentMovie];\n        await updateDoc(sessionRef, {\n          ourList: updatedOurList\n        });\n      }\n\n      setState(prev => ({\n        ...prev,\n        likedMoviesCount: prev.likedMoviesCount + 1\n      }));\n      \n      await fetchNextMovie();\n    } catch (error) {\n      console.error('Error liking movie:', error);\n    }\n  };\n\n  const handleDislike = async () => {\n    if (!state.currentMovie) return;\n    await fetchNextMovie();\n  };\n\n  console.log('Current state:', state);\n\n  return (\n    <View style={styles.container}>\n      {!state.sessionId ? (\n        <View style={styles.welcomeContainer}>\n          <Text style={styles.title}>What Should We Watch?</Text>\n          <Button \n            title=\"Create Session\" \n            onPress={handleCreateSession}\n          />\n          <Button \n            title=\"Join Session\" \n            onPress={() => {\n              const code = prompt('Enter session code:');\n              if (code) joinSession(code);\n            }}\n          />\n        </View>\n      ) : !state.currentMovie ? (\n        // Session created, waiting for movie\n        <View style={styles.mainContainer}>\n          <Text style={styles.sessionInfo}>Session: {state.sessionId}</Text>\n          <Text style={styles.sessionInfo}>User ID: {state.userId}</Text>\n          <Button \n            title=\"Copy Session ID\" \n            onPress={() => {\n              navigator.clipboard.writeText(state.sessionId);\n              alert('Session ID copied to clipboard!');\n            }}\n          />\n          <Button \n            title=\"Start Matching\" \n            onPress={fetchNextMovie}\n          />\n        </View>\n      ) : (\n        // Movie matching interface\n        <View style={styles.matchingContainer}>\n          <Text style={styles.stats}>\n            Liked: {state.likedMoviesCount} | Our List: {state.ourList.length}\n          </Text>\n          \n          {/* Add Our List Modal/Section */}\n          {state.ourList.length > 0 && (\n            <View style={styles.ourListContainer}>\n              <Text style={styles.ourListTitle}>Our List</Text>\n              {state.ourList.map((movie) => (\n                <View key={movie.id} style={styles.ourListItem}>\n                  <Image\n                    source={{ uri: `${TMDB_IMAGE_BASE_URL}${movie.poster_path}` }}\n                    style={styles.ourListPoster}\n                  />\n                  <Text style={styles.ourListMovieTitle}>{movie.title}</Text>\n                </View>\n              ))}\n            </View>\n          )}\n\n          <View style={styles.movieCard}>\n            <Text style={styles.movieTitle}>{state.currentMovie.title}</Text>\n            \n            {state.currentMovie.poster_path && (\n              <Image\n                source={{ uri: `${TMDB_IMAGE_BASE_URL}${state.currentMovie.poster_path}` }}\n                style={styles.moviePoster}\n              />\n            )}\n            \n            <Text style={styles.movieYear}>\n              {new Date(state.currentMovie.release_date).getFullYear()}\n            </Text>\n            \n            <Text style={styles.movieRating}>\n              Rating: {state.currentMovie.vote_average}/10\n            </Text>\n            \n            <Text style={styles.movieDescription}>\n              {state.currentMovie.overview}\n            </Text>\n            \n            <View style={styles.providersContainer}>\n              {state.currentMovie.providers && (\n                <>\n                  <ProvidersSection \n                    providers={state.currentMovie.providers} \n                    type=\"flatrate\" \n                  />\n                  <ProvidersSection \n                    providers={state.currentMovie.providers} \n                    type=\"rent\" \n                  />\n                  <ProvidersSection \n                    providers={state.currentMovie.providers} \n                    type=\"buy\" \n                  />\n                </>\n              )}\n            </View>\n          </View>\n\n          <View style={styles.buttonContainer}>\n            <Button title=\"👎 Nope\" onPress={handleDislike} />\n            <Button title=\"👍 Like\" onPress={handleLike} />\n          </View>\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n  },\n  welcomeContainer: {\n    alignItems: 'center',\n    gap: 20,\n  },\n  mainContainer: {\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  sessionInfo: {\n    fontSize: 16,\n    marginBottom: 10,\n  },\n  matchingContainer: {\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    padding: 20,\n  },\n  stats: {\n    fontSize: 16,\n    marginBottom: 20,\n  },\n  movieCard: {\n    width: '100%',\n    maxWidth: 400,\n    padding: 20,\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    marginBottom: 20,\n  },\n  movieTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  movieDescription: {\n    fontSize: 16,\n    lineHeight: 24,\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    width: '100%',\n    maxWidth: 300,\n    marginTop: 20,\n  },\n  moviePoster: {\n    width: '100%',\n    height: 500,\n    resizeMode: 'cover',\n    borderRadius: 10,\n    marginBottom: 10,\n  },\n  movieYear: {\n    fontSize: 16,\n    color: '#666',\n    marginBottom: 5,\n  },\n  movieRating: {\n    fontSize: 16,\n    color: '#666',\n    marginBottom: 10,\n  },\n  providersContainer: {\n    marginTop: 15,\n    borderTopWidth: 1,\n    borderTopColor: '#eee',\n    paddingTop: 15,\n  },\n  providersSection: {\n    marginBottom: 15,\n  },\n  providerTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    color: '#333',\n  },\n  providersList: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 10,\n  },\n  providerItem: {\n    alignItems: 'center',\n    width: 70,\n  },\n  providerLogo: {\n    width: 40,\n    height: 40,\n    borderRadius: 8,\n    marginBottom: 4,\n  },\n  providerName: {\n    fontSize: 12,\n    textAlign: 'center',\n    color: '#666',\n  },\n  ourListContainer: {\n    marginTop: 20,\n    width: '100%',\n    maxWidth: 400,\n  },\n  ourListTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  ourListItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n    padding: 10,\n    backgroundColor: '#f5f5f5',\n    borderRadius: 8,\n  },\n  ourListPoster: {\n    width: 50,\n    height: 75,\n    borderRadius: 4,\n    marginRight: 10,\n  },\n  ourListMovieTitle: {\n    fontSize: 16,\n    flex: 1,\n  },\n});\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}